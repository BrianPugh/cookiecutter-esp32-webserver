<table class="fixed" border="0">
<col width="1000px" /><col width="500px" />
<tr><td>
<h2>{{cookiecutter.project_name}} File Server</h2>
</td><td>
<table border="0">
<tr>
<td>
<label for="newfile">Upload a file</label>
</td>
<td colspan="2">
<input id="newfile" type="file" onchange="setpath()" style="width:100%">
</td>
</tr>
<tr>
<td>
<label for="filepath">Set path on server</label>
</td>
<td>
<input id="filepath" type="text" style="width:100%">
</td>
<td>
<button id="upload" type="button" onclick="upload()">Upload</button>
</td>
</tr>
</table>
</td></tr>
</table>
<script>function setpath(){var a=document.getElementById("newfile").files[0].name;document.getElementById("filepath").value=a}function upload(){var c=document.getElementById("filepath").value;var e="/api/v1/filesystem/"+c;var d=document.getElementById("newfile").files;var a=200*1024;var f="200KB";if(d.length==0){alert("No file selected!")}else{if(c.length==0){alert("File path on server is not set!")}else{if(c.indexOf(" ")>=0){alert("File path on server cannot have spaces!")}else{if(c[c.length-1]=="/"){alert("File name not specified after path!")}else{if(d[0].size>200*1024){alert("File size must be less than 200KB!")}else{document.getElementById("newfile").disabled=true;document.getElementById("filepath").disabled=true;document.getElementById("upload").disabled=true;var b=d[0];fetch(e,{method:"POST",body:b}).then(function(g){location.reload()})}}}}}};</script>
